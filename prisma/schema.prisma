generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model livros {
  id_livro       BigInt    @id @unique @default(autoincrement()) @map("idLivro")
  titulo         String
  subtitulo      String?
  autor          String
  ano_publicacao Int?      @db.SmallInt @map("anoPublicacao")
  isbn           String    @db.VarChar
  descricao      String?
  criado_em      DateTime? @db.Timestamptz(6) @map("criadoEm")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model emprestimos {
  id_emprestimo              Int       @id @unique @default(autoincrement()) @map("idEmprestimo")
  id_exemplar                Int?       @map("idExemplar")
  id_livro                   Int          @map("idlivro")
  id_usuario                 String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid @map("idUsuario")
  realizado_em               DateTime  @default(now()) @db.Timestamptz(6) @map("realizadoEm")
  data_realizado_em          DateTime  @default(dbgenerated("(now())::date")) @db.Date @map("dataRealizadaEm")
  data_previsao_devolucao_em DateTime  @db.Date  @map("dataPrevisaoDevolucaoEm")
  status                     Boolean   @default(true)
  data_devolucao_em          DateTime? @db.Date @map("dataDevolucaoEm")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model exemplares {
  id_exemplar BigInt   @id @default(autoincrement()) @map("idExemplar")
  id_livro    BigInt? @map("idLivro")
  created_at  DateTime @default(now()) @db.Timestamptz(6) @map("criadoEm")
  descricao   String?
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model usuarios {
  id_usuario     String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  codigo_familia String @map("codigoFamilia")
  nome_completo  String @map("nomeCompleto")
  created_at     DateTime @default(now()) @db.Timestamptz(6) @map("criadoEm") 
}
